{"ast":null,"code":"import _classCallCheck from \"/Users/SHA8350/BootCamp/ReactProject/express-app-shintocoin/react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/SHA8350/BootCamp/ReactProject/express-app-shintocoin/react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/SHA8350/BootCamp/ReactProject/express-app-shintocoin/react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/SHA8350/BootCamp/ReactProject/express-app-shintocoin/react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/SHA8350/BootCamp/ReactProject/express-app-shintocoin/react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/SHA8350/BootCamp/ReactProject/express-app-shintocoin/react-app/src/component/ShintoCoinApp.js\";\nimport React, { Component } from 'react';\nimport \"react-router\";\nimport { BrowserRouter, Route, Link, Switch, Redirect } from \"react-router-dom\";\nimport '../style/shintocoin.css';\nimport Home from './Home';\nimport MineCoins from './MineCoins';\nimport BuyCoins from './BuyCoins';\nimport SellCoins from './SellCoins';\nimport BrowseLedger from './BrowseLedger';\nimport axios from 'axios';\nimport LedgerDetails from './LedgerDetails';\n\nvar ShintoCoinApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShintoCoinApp, _Component);\n\n  function ShintoCoinApp(props) {\n    var _this;\n\n    _classCallCheck(this, ShintoCoinApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShintoCoinApp).call(this, props));\n\n    _this.addTransactionToLedger = function (ledgerentry) {\n      if (ledgerentry.action === \"Mine\") {\n        ledgerentry.value = _this.state.coinvalue;\n        var temptotal = _this.state.totalcoins;\n        temptotal = temptotal + 1;\n\n        _this.setState({\n          totalcoins: temptotal\n        });\n\n        _this.setState({\n          coinvalue: ledgerentry.value\n        });\n      } else if (ledgerentry.action === \"Buy\") {\n        var _temptotal = _this.state.totalcoins;\n        _temptotal = _temptotal + ledgerentry.amount;\n\n        _this.setState({\n          totalcoins: _temptotal\n        });\n\n        _this.setState({\n          coinvalue: ledgerentry.value\n        });\n      } else if (ledgerentry.action === \"Sell\") {\n        var _temptotal2 = _this.state.totalcoins;\n        _temptotal2 = _temptotal2 - ledgerentry.amount;\n\n        _this.setState({\n          totalcoins: _temptotal2\n        });\n\n        _this.setState({\n          coinvalue: ledgerentry.value\n        });\n      }\n\n      _this.setState({\n        transactions: ledgerentry\n      });\n\n      console.log(\"coins\", _this.state.totalcoins);\n      console.log(\"ledger\", ledgerentry);\n\n      _this.enterTransaction(ledgerentry);\n    };\n\n    _this.enterTransaction = function (transaction) {\n      axios.post(\"http://localhost:5000/entertransaction/\", {\n        transaction: transaction\n      }).then(function (response) {\n        var bankdetails = response.data.bankdetails;\n        console.log(\"posted a the transaction\", response.data.bankdetails);\n\n        _this.setState({\n          coinvalue: bankdetails.coinvalue\n        });\n\n        _this.setState({\n          totalcoins: bankdetails.totalcoins\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: \"Server connection failed\"\n        });\n      });\n    };\n\n    _this.getBankDetails = function () {\n      axios.get(\"http://localhost:5000/getbankdetails/\").then(function (response) {\n        var bankdetails = response.data.data[response.data.data.length - 1];\n        console.log(\"got the response from shinto bank\", response.data.data[response.data.data.length - 1]);\n\n        _this.setState({\n          coinvalue: bankdetails.coinvalue\n        });\n\n        _this.setState({\n          totalcoins: bankdetails.totalcoins\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: \"Server connection failed\"\n        });\n      });\n    };\n\n    _this.getTransactionLedger = function () {\n      axios.get(\"http://localhost:5000/gettransactionedger/\").then(function (response) {\n        var ledger = response.data;\n        console.log(\"got the response from shinto bank\", response.data);\n\n        _this.setState({\n          transactionledger: response.data.data\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: \"Server connection failed\"\n        });\n      });\n    };\n\n    _this.state = {\n      transactions: [],\n      coinvalue: 1,\n      totalcoins: 0,\n      //   transactionledger:[],\n      transactionledger: [{\n        \"id\": \"1\",\n        \"transaction\": {\n          \"action\": \"Mine\",\n          \"amount\": 1,\n          \"value\": 1\n        }\n      }, {\n        \"id\": \"2\",\n        \"transaction\": {\n          \"action\": \"Buy\",\n          \"amount\": 5,\n          \"value\": 6\n        }\n      }, {\n        \"id\": \"3\",\n        \"transaction\": {\n          \"action\": \"Mine\",\n          \"amount\": 1,\n          \"value\": 6\n        }\n      }, {\n        \"id\": \"4\",\n        \"transaction\": {\n          \"action\": \"Buy\",\n          \"amount\": 5,\n          \"value\": 11\n        }\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(ShintoCoinApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getBankDetails();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"posted a the transaction1\", this.state.totalcoins);\n      console.log(\"posted a the transaction2\", this.state.coinvalue);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"naviouterdiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logostyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"navibarstyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"div\", {\n        className: \"navibarstyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/minecoins\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Mine Coins\")), React.createElement(\"div\", {\n        className: \"navibarstyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/buycoins\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Buy Coins\")), React.createElement(\"div\", {\n        className: \"navibarstyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/sellcoins\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Sell Coins\")), React.createElement(\"div\", {\n        className: \"navibarstyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Link, {\n        onClick: this.getTransactionLedger,\n        to: \"/browseledger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Browse Ledger\"))), React.createElement(\"div\", {\n        className: \"routerdiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(Redirect, {\n            to: \"/home\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/home\",\n        component: Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/minecoins\",\n        render: function render() {\n          return React.createElement(MineCoins, {\n            addTransactionToLedger: _this2.addTransactionToLedger,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/buycoins\",\n        render: function render() {\n          return React.createElement(BuyCoins, {\n            addTransactionToLedger: _this2.addTransactionToLedger,\n            totalcoins: _this2.state.totalcoins,\n            coinvalue: _this2.state.coinvalue,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/sellcoins\",\n        render: function render() {\n          return React.createElement(SellCoins, {\n            addTransactionToLedger: _this2.addTransactionToLedger,\n            totalcoins: _this2.state.totalcoins,\n            coinvalue: _this2.state.coinvalue,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/browseledger\",\n        render: function render() {\n          return React.createElement(BrowseLedger, {\n            getTransactionLedger: _this2.getTransactionLedger,\n            transactionledger: _this2.state.transactionledger,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ledgerdetails/:id\",\n        render: function render(props) {\n          return React.createElement(LedgerDetails, Object.assign({}, props, {\n            getTransactionLedger: _this2.getTransactionLedger,\n            transactionledger: _this2.state.transactionledger,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ShintoCoinApp;\n}(Component);\n\nexport default ShintoCoinApp;","map":{"version":3,"sources":["/Users/SHA8350/BootCamp/ReactProject/express-app-shintocoin/react-app/src/component/ShintoCoinApp.js"],"names":["React","Component","BrowserRouter","Route","Link","Switch","Redirect","Home","MineCoins","BuyCoins","SellCoins","BrowseLedger","axios","LedgerDetails","ShintoCoinApp","props","addTransactionToLedger","ledgerentry","action","value","state","coinvalue","temptotal","totalcoins","setState","amount","transactions","console","log","enterTransaction","transaction","post","then","response","bankdetails","data","catch","error","getBankDetails","get","length","getTransactionLedger","ledger","transactionledger"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"react-router\";\nimport {\n  BrowserRouter,\n  Route,\n  Link,\n  Switch,\n  Redirect\n} from \"react-router-dom\"\nimport '../style/shintocoin.css'\nimport Home from './Home';\nimport MineCoins from './MineCoins';\nimport BuyCoins from './BuyCoins';\nimport SellCoins from './SellCoins';\nimport BrowseLedger from './BrowseLedger';\nimport axios from 'axios';\nimport LedgerDetails from './LedgerDetails';\n\nclass ShintoCoinApp extends Component {\n  constructor(props){\n      super(props);\n      this.state={transactions:[],\n                  coinvalue:1,\n                  totalcoins:0,\n                //   transactionledger:[],\n                  transactionledger:[{\"id\":\"1\",\"transaction\":{\"action\":\"Mine\",\"amount\":1,\"value\":1}},{\"id\":\"2\",\"transaction\":{\"action\":\"Buy\",\"amount\":5,\"value\":6}},{\"id\":\"3\",\"transaction\":{\"action\":\"Mine\",\"amount\":1,\"value\":6}},{\"id\":\"4\",\"transaction\":{\"action\":\"Buy\",\"amount\":5,\"value\":11}}]\n                }\n  }  \n  addTransactionToLedger=(ledgerentry)=>{\n\n      if(ledgerentry.action===\"Mine\"){\n\n        ledgerentry.value=this.state.coinvalue;\n        let temptotal=this.state.totalcoins;\n        temptotal=temptotal+1;\n        this.setState({totalcoins:temptotal});\n        this.setState({coinvalue:ledgerentry.value});\n\n       }else if(ledgerentry.action===\"Buy\"){\n        \n        let temptotal=this.state.totalcoins;\n        temptotal=temptotal+ledgerentry.amount;\n        this.setState({totalcoins:temptotal})\n        this.setState({coinvalue:ledgerentry.value});\n\n       }else if(ledgerentry.action===\"Sell\"){\n\n        let temptotal=this.state.totalcoins;\n        temptotal=temptotal-ledgerentry.amount;\n        this.setState({totalcoins:temptotal})\n        this.setState({coinvalue:ledgerentry.value});\n          \n       }\n        this.setState({transactions:ledgerentry});\n\n        console.log(\"coins\",this.state.totalcoins);\n        console.log(\"ledger\",ledgerentry);\n        this.enterTransaction(ledgerentry);\n\n  }\n  enterTransaction=(transaction) =>{\n    axios.post(`http://localhost:5000/entertransaction/`,{transaction})\n         .then((response) => {\n               let bankdetails=response.data.bankdetails;\n               console.log(\"posted a the transaction\",response.data.bankdetails);\n               this.setState({coinvalue:bankdetails.coinvalue});\n               this.setState({totalcoins:bankdetails.totalcoins});\n              \n        })\n        .catch((error) => {\n            this.setState({error:\"Server connection failed\"});\n        });\n }\n getBankDetails=()=>{\n    axios.get(`http://localhost:5000/getbankdetails/`)\n    .then((response )=> {\n          let bankdetails=response.data.data[response.data.data.length-1];\n          console.log(\"got the response from shinto bank\",response.data.data[response.data.data.length-1]);\n          this.setState({coinvalue:bankdetails.coinvalue});\n          this.setState({totalcoins:bankdetails.totalcoins});\n         \n   })\n   .catch((error) => {\n       this.setState({error:\"Server connection failed\"});\n   });\n\n }\n getTransactionLedger=()=>{\n    axios.get(`http://localhost:5000/gettransactionedger/`)\n    .then((response )=> {\n          let ledger=response.data;\n          console.log(\"got the response from shinto bank\",response.data);\n          this.setState({transactionledger:response.data.data});\n         \n   })\n   .catch((error) => {\n       this.setState({error:\"Server connection failed\"});\n   });\n\n }\n componentDidMount(){\n     this.getBankDetails();\n }\n\n  render() {\n    console.log(\"posted a the transaction1\",this.state.totalcoins);\n    console.log(\"posted a the transaction2\",this.state.coinvalue);\n    return (\n      <div> \n       <BrowserRouter>\n          <div className=\"naviouterdiv\">\n                <div className=\"logostyle\"></div>\n                <div className=\"navibarstyle\" ><Link to=\"/home\">Home</Link></div>\n                <div className=\"navibarstyle\" ><Link to=\"/minecoins\">Mine Coins</Link></div>\n                <div className=\"navibarstyle\" ><Link to=\"/buycoins\">Buy Coins</Link></div>\n                <div className=\"navibarstyle\" ><Link to=\"/sellcoins\">Sell Coins</Link></div>\n                <div className=\"navibarstyle\" ><Link onClick={this.getTransactionLedger}to=\"/browseledger\">Browse Ledger</Link></div>\n           </div>  \n            <div className=\"routerdiv\">\n               <Switch>\n                <Route exact path=\"/\" render={() => (\n                    <Redirect to=\"/home\" />\n                )} />\n                \n                    <Route path=\"/home\" component={Home}/>\n                    <Route path=\"/minecoins\" render={() => { return <MineCoins addTransactionToLedger={this.addTransactionToLedger}/>;}}/>\n                    <Route path=\"/buycoins\"  render={() => { return <BuyCoins addTransactionToLedger={this.addTransactionToLedger} totalcoins={this.state.totalcoins} coinvalue={this.state.coinvalue}/>}}/>\n                    <Route path=\"/sellcoins\" render={() => { return <SellCoins addTransactionToLedger={this.addTransactionToLedger} totalcoins={this.state.totalcoins} coinvalue={this.state.coinvalue}/>}}/>\n                    <Route path=\"/browseledger\" render={() => { return <BrowseLedger getTransactionLedger={this.getTransactionLedger} transactionledger={this.state.transactionledger} />}}/>\n                    <Route path=\"/ledgerdetails/:id\" render={ (props) => { return <LedgerDetails {...props} getTransactionLedger={this.getTransactionLedger} transactionledger={this.state.transactionledger} /> }}/>\n               \n                </Switch>            \n            </div>\n         \n       </BrowserRouter>\n    \n    \n      </div>\n    );\n  }\n}\n\nexport default ShintoCoinApp;"]},"metadata":{},"sourceType":"module"}